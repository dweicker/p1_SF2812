\subsection{Problem description}

The problem in the previous section is now to be extended such as to calculate the maximum  available traffic between Berlin and Madrid under the same conditions as in the previous section, ie the capacity limits given in figure 1 as well as 50 Gbit/s of traffic Stockholm-Rome and 40 Gbit/s London-Warsaw. 

\subsection{Mathematical model}
Once again we introduce the set $I$ :
$$I = \{ Sto,Lon,Ber,War,Par,Rom,Mad\}$$
representing the nodes of the system.

The flow from Stockholm to Rome is denoted $k=1$ and the flow from London to Warsaw is $k=2$. Thus, the added flow from Berlin to Rome is $k=3$. The variable $x_{i,j,k}$ represents the flow of traffic type $k$ from node $i$ to node $j$.

As before, the first  gropu of constraints treats conservation of flow:
$$\sum\limits_{j \in I} x_{i,j,k} - \sum\limits_{j \in I} x_{j,i,k} = a_{i} \quad k = 1$$
$$\sum\limits_{j \in I} x_{i,j,k} - \sum\limits_{j \in I} x_{j,i,k} = b_{i} \quad k = 2$$
$$\sum\limits_{j \in I} x_{i,j,k} - \sum\limits_{j \in I} x_{j,i,k} = q d_{i} \quad k = 3$$
(Change as above)

The transmitted data is not to exceed the capacity between each node, which may be modelled as a second constraint:
$$\sum\limits_{k =1}^3 x_{i,j,k} + \sum\limits_{k =1}^3 x_{j,i,k} \leq c_{i,j}\\$$
where $c_{i,j}$ is the capacity between node $i$ and $j$.


The problem may thus be formulated as
$$
\begin{tabular}{r c l}
		max & $q$\\
		s.t. & $\sum\limits_{j \in I} x_{i,j,k} - \sum\limits_{j \in I} x_{j,i,k} = a_{i} + b_{i} + q d_{i}$\\
		& $\sum\limits_{k =1}^3 x_{i,j,k} + \sum\limits_{k =1}^3 x_{j,i,k} \leq c_{i,j}$ & $ \forall \: i,j \in I$\\
		& $x_{i,j,k} \geq 0$ & $ \forall \: i,j \in I \quad k \in \{1,2,3\}$
	\end{tabular}
$$



\subsection{Results}
Results
